<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<f:metadata>
   <f:viewParam name="id" value="#{editRingBean.ringId}"/>
   <f:event type="preRenderView" listener="#{editRingBean.loadRing}"/>
</f:metadata>

<h:head>
   <title>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª—å—Ü–∞</title>
      <h:outputStylesheet library="css" name="styles.css"/>
</h:head>

<h:body>
   <div class="container-narrow">
      <h1>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª—å—Ü–∞</h1>

      <div class="section-bottom">
         <h:link outcome="rings" value="‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É" styleClass="btn btn-secondary"/>
      </div>

      <h:messages styleClass="messages"/>

      <ui:fragment rendered="#{editRingBean.ring != null}">
         <h:form id="editForm">
            <div class="form-group">
               <h:outputLabel for="name" value="–ù–∞–∑–≤–∞–Ω–∏–µ:"/>
               <h:inputText id="name" value="#{editRingBean.ring.name}" required="true" requiredMessage="–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ"/>
            </div>

            <div class="form-group">
               <h:outputLabel for="power" value="–°–∏–ª–∞:"/>
               <h:inputText id="power" value="#{editRingBean.ring.power}">
                  <f:validateLongRange minimum="1"/>
               </h:inputText>
            </div>

            <div class="form-group">
               <h:outputLabel for="weight" value="–í–µ—Å:"/>
               <h:inputText id="weight" value="#{editRingBean.ring.weight}" required="true">
                  <f:validateDoubleRange minimum="0.001"/>
               </h:inputText>
            </div>

            <div class="section-top">
               <h:commandButton value="üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å" action="#{editRingBean.updateRing}" styleClass="btn btn-primary"/>
               <h:link outcome="view-ring" value="‚ùå –û—Ç–º–µ–Ω–∞" styleClass="btn btn-secondary">
                  <f:param name="id" value="#{editRingBean.ring.id}"/>
               </h:link>
            </div>
         </h:form>
      </ui:fragment>

      <ui:fragment rendered="#{editRingBean.ring == null}">
         <p class="text-danger">–ö–æ–ª—å—Ü–æ —Å ID #{editRingBean.ringId} –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>
      </ui:fragment>
   </div>
</h:body>
</html>

