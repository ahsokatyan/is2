<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">


<f:metadata>
   <f:viewParam name="id" value="#{editMagicCityBean.cityId}"/>
   <f:event type="preRenderView" listener="#{editMagicCityBean.loadCity}"/>
</f:metadata>

<h:head>
   <title>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞</title>
      <h:outputStylesheet library="css" name="styles.css"/>
</h:head>

<h:body>
   <div class="container-narrow">
      <h1>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞</h1>

      <div class="section-bottom">
         <h:link outcome="cities" value="‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É" styleClass="btn btn-secondary"/>
      </div>

      <h:messages styleClass="messages"/>

      <ui:fragment rendered="#{editMagicCityBean.city != null}">
         <h:form id="editForm">
            <div class="form-grid">
               <div class="form-group">
                  <h:outputLabel for="name" value="–ù–∞–∑–≤–∞–Ω–∏–µ:"/>
                  <h:inputText id="name" value="#{editMagicCityBean.city.name}" required="true" requiredMessage="–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ"/>
               </div>

               <div class="form-group">
                  <h:outputLabel for="area" value="–ü–ª–æ—â–∞–¥—å:"/>
                  <h:inputText id="area" value="#{editMagicCityBean.city.area}" required="true">
                     <f:validateDoubleRange minimum="0.001"/>
                  </h:inputText>
               </div>

               <div class="form-group">
                  <h:outputLabel for="population" value="–ù–∞—Å–µ–ª–µ–Ω–∏–µ:"/>
                  <h:inputText id="population" value="#{editMagicCityBean.city.population}" required="true">
                     <f:validateLongRange minimum="1"/>
                  </h:inputText>
               </div>

               <div class="form-group">
                  <h:outputLabel for="populationDensity" value="–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è:"/>
                  <h:inputText id="populationDensity" value="#{editMagicCityBean.city.populationDensity}" required="true">
                     <f:validateDoubleRange minimum="0.001"/>
                  </h:inputText>
               </div>

               <div class="form-group">
                  <h:outputLabel for="governor" value="–ü—Ä–∞–≤–∏—Ç–µ–ª—å:"/>
                  <h:selectOneMenu id="governor" value="#{editMagicCityBean.city.governor}">
                     <f:selectItem itemLabel="–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—è" itemValue=""/>
                     <f:selectItems value="#{editMagicCityBean.creatureTypes}" var="type"
                                    itemLabel="#{type}" itemValue="#{type}"/>
                  </h:selectOneMenu>
               </div>

               <div class="form-group">
                  <h:outputLabel for="capital" value="–°—Ç–æ–ª–∏—Ü–∞:"/>
                  <h:selectBooleanCheckbox id="capital" value="#{editMagicCityBean.city.capital}"/>
               </div>
            </div>

            <div class="section-top">
               <h:commandButton value="üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å" action="#{editMagicCityBean.updateCity}" styleClass="btn btn-primary"/>
               <h:link outcome="view-city" value="‚ùå –û—Ç–º–µ–Ω–∞" styleClass="btn btn-secondary">
                  <f:param name="id" value="#{editMagicCityBean.city.id}"/>
               </h:link>
            </div>
         </h:form>
      </ui:fragment>

      <ui:fragment rendered="#{editMagicCityBean.city == null}">
         <p class="text-danger">–ì–æ—Ä–æ–¥ —Å ID #{editMagicCityBean.cityId} –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>
      </ui:fragment>
   </div>
</h:body>
</html>


